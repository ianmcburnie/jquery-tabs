
(function($){$.fn.tabs=function tabs(options){options=$.extend({},options);return this.each(function onEach(){var $tabsWidget=$(this);var $tablist=$tabsWidget.find('> ul:first-child, > ol:first-child, > div:first-child');var $tabs=$tablist.find('> li, > div');var $links=$tablist.find('a');var $panelcontainer=$tabsWidget.find('> div:last-child');var $panels=$panelcontainer.find('> div');var $panelHeadings=$panels.find('> h2:first-child, > h3:first-child');$tabsWidget.nextId('tabs');$tablist.attr('role','tablist');$tabs.attr('role','tab').attr('aria-selected','false').first().attr('aria-selected','true');$panels.attr('role','tabpanel').attr('aria-hidden','true').first().attr('aria-hidden','false');$panelHeadings.attr('aria-hidden','true');$links.attr('role','presentation').removeAttr('href');if(options.livePanels===true){$panelcontainer.attr('aria-live','polite');}
$tabs.each(function onEachTab(idx,el){var $tab=$(el);var tabId=$tabsWidget.attr('id')+'-tab-'+idx;var panelId=$tabsWidget.attr('id')+'-panel-'+idx;$tab.attr('id',tabId).attr('aria-controls',panelId);$panels.eq(idx).attr('id',panelId).attr('aria-labelledby',tabId);});$tablist.rovingTabindex('[role=tab]',{autoWrap:true,disableHomeAndEndKeys:true});$tablist.on('rovingTabindexChange','[role=tab]',function(e,data){var $selectedTab=$(this);var $activeTab=$tablist.find('[aria-selected=true]');var $activePanel=$panelcontainer.find('[aria-labelledby={0}]'.replace('{0}',$activeTab.attr('id')));var $selectedPanel=$panelcontainer.find('[aria-labelledby={0}]'.replace('{0}',$selectedTab.attr('id')));if($selectedTab[0]!==$activeTab[0]){$activePanel.attr('aria-hidden','true');$selectedPanel.attr('aria-hidden','false');$selectedTab.attr('aria-selected','true');setTimeout(function(){$activeTab.attr('aria-selected','false');$selectedTab.trigger('tabsSelect',data);},0);}});$tabsWidget.addClass('tabs--js');});};}(jQuery));